import{c as f,d as b,u as A,a as r,m,w as I,e as _,r as C,n as S,b as y,f as P,B as $,g as B,h as N,i as V,j,I as w,k as z,o as E,l as O,p as R}from"./index-Dz_AW7Zm.js";const[g,U]=f("sidebar"),p=Symbol(g),D={modelValue:m(0)};var K=b({name:g,props:D,emits:["change","update:modelValue"],setup(t,{emit:n,slots:i}){const{linkChildren:o}=A(p),a=()=>+t.modelValue;return o({getActive:a,setActive:s=>{s!==a()&&(n("update:modelValue",s),n("change",s))}}),()=>{var s;return r("div",{role:"tablist",class:U()},[(s=i.default)==null?void 0:s.call(i)])}}});const T=I(K),[Y,k]=f("sidebar-item"),q=_({},C,{dot:Boolean,title:String,badge:S,disabled:Boolean,badgeProps:Object});var F=b({name:Y,props:q,emits:["click"],setup(t,{emit:n,slots:i}){const o=y(),{parent:a,index:l}=P(p);if(!a)return;const s=()=>{t.disabled||(n("click",l.value),a.setActive(l.value),o())};return()=>{const{dot:v,badge:x,title:e,disabled:c}=t,d=l.value===a.getActive();return r("div",{role:"tab",class:k({select:d,disabled:c}),tabindex:c?void 0:0,"aria-selected":d,onClick:s},[r($,B({dot:v,class:k("text"),content:x},t.badgeProps),{default:()=>[i.title?i.title():e]})])}}});const G=I(F),[H,u]=f("tree-select"),J={max:m(1/0),items:V(),height:m(300),selectedIcon:j("success"),mainActiveIndex:m(0),activeId:{type:[Number,String,Array],default:0}};var L=b({name:H,props:J,emits:["clickNav","clickItem","update:activeId","update:mainActiveIndex"],setup(t,{emit:n,slots:i}){const o=e=>Array.isArray(t.activeId)?t.activeId.includes(e):t.activeId===e,a=e=>{const c=()=>{if(e.disabled)return;let d;if(Array.isArray(t.activeId)){d=t.activeId.slice();const h=d.indexOf(e.id);h!==-1?d.splice(h,1):d.length<+t.max&&d.push(e.id)}else d=e.id;n("update:activeId",d),n("clickItem",e)};return r("div",{key:e.id,class:["van-ellipsis",u("item",{active:o(e.id),disabled:e.disabled})],onClick:c},[e.text,o(e.id)&&r(w,{name:t.selectedIcon,class:u("selected")},null)])},l=e=>{n("update:mainActiveIndex",e)},s=e=>n("clickNav",e),v=()=>{const e=t.items.map(c=>r(G,{dot:c.dot,badge:c.badge,class:[u("nav-item"),c.className],disabled:c.disabled,onClick:s},{title:()=>i["nav-text"]?i["nav-text"](c):c.text}));return r(T,{class:u("nav"),modelValue:t.mainActiveIndex,onChange:l},{default:()=>[e]})},x=()=>{if(i.content)return i.content();const e=t.items[+t.mainActiveIndex]||{};if(e.children)return e.children.map(a)};return()=>r("div",{class:u(),style:{height:N(t.height)}},[v(),r("div",{class:u("content")},[x()])])}});const M=I(L),W=b({__name:"index",setup(t){const n=z(0),i=[{text:"剧集区",children:[{id:1,from:"剧集区",text:"国产",link:"/detail/list/series/zh"},{id:2,from:"剧集区",text:"美国",link:"/detail/list/series/en"}]},{text:"电影区",children:[{id:3,from:"电影区",text:"国产",link:"/detail/list/movie/zh"},{id:4,from:"电影区",text:"美国",link:"/detail/list/movie/en"}]},{text:"软件区",children:[{id:5,from:"软件区",text:"电脑",link:"/detail/list/soft/pc"},{id:6,from:"软件区",text:"手机",link:"/detail/list/soft/phone"}]}],o=a=>{console.log(a),R.push(`${a.link}/${a.from}|${a.text}`)};return(a,l)=>{const s=M;return E(),O(s,{"main-active-index":n.value,"onUpdate:mainActiveIndex":l[0]||(l[0]=v=>n.value=v),style:{height:"calc(100vh - var(--van-nav-bar-height) - var(--van-tabbar-height)"},items:i,onClickItem:o},null,8,["main-active-index"])}}});export{W as default};
